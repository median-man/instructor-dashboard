(this["webpackJsonpinstructor-dashboard"]=this["webpackJsonpinstructor-dashboard"]||[]).push([[0],{195:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(75),c=n.n(s),i=(n(88),n(89),n(13)),o=n(3),l=n(4),u=n.n(l),d=n(2),b=n(7),j=n(11),m=n(16),h=n(28),f=n(50),O=n(5),p=n(21),x=n(76),v=n(77),g=n(82),w=n(83),y=function(e){Object(v.a)(n,e);var t=Object(g.a)(n);function n(e){var r,a=e.code,s=e.message,c=void 0===s?"Request failed with ".concat(a," status code."):s;return Object(h.a)(this,n),(r=t.call(this,c)).code=a,r}return n}(Object(w.a)(Error)),N="https://www.bootcampspot.com/api/instructor/v1",k=function(){var e=Object(b.a)(u.a.mark((function e(t,n){var r,a,s=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=3,fetch(N+t,{method:"post",headers:Object(d.a)({"Content-Type":"application/json"},r),body:JSON.stringify(n)});case 3:if((a=e.sent).ok){e.next=6;break}throw new y({message:a.statusText,code:a.status});case 6:return e.abrupt("return",a.json());case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(b.a)(u.a.mark((function e(t){var n,r,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,fetch(N+t,{method:"GET",headers:Object(d.a)({"Content-Type":"application/json"},n)});case 3:if((r=e.sent).ok){e.next=6;break}throw new y({message:r.statusText||"Network error",status:r.status});case 6:return e.abrupt("return",r.json());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=Object(p.a)("token"),C=function(){function e(){Object(h.a)(this,e),Object.defineProperty(this,S,{get:D,set:T})}return Object(f.a)(e,[{key:"expiresAt",get:function(){if(!Object(O.a)(this,S)[S])return-1;var e=Object(x.a)(Object(O.a)(this,S)[S]),t=e.minutesTimeout,n=e.creationTime;return 60*t*1e3+Date.parse(n)}},{key:"toString",value:function(){return Object(O.a)(this,S)[S]}},{key:"clear",value:function(){window.sessionStorage.removeItem("authToken")}},{key:"set",value:function(e){Object(O.a)(this,S)[S]=e}}]),e}();function D(){return window.sessionStorage.getItem("authToken")}function T(e){return window.sessionStorage.setItem("authToken",e)}var L=Object(p.a)("cache"),E=Object(p.a)("authToken"),A=Object(p.a)("authHeader"),P=Object(p.a)("withCache");function H(){return{authToken:Object(O.a)(this,E)[E]}}function M(e,t){return F.apply(this,arguments)}function F(){return(F=Object(b.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(O.a)(this,L)[L].get(t)){e.next=6;break}return e.next=4,n();case 4:r=e.sent,Object(O.a)(this,L)[L].set(t,r);case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var R=new(function(){function e(){Object(h.a)(this,e),Object.defineProperty(this,P,{value:M}),Object.defineProperty(this,A,{get:H,set:void 0}),Object.defineProperty(this,L,{writable:!0,value:new Map}),Object.defineProperty(this,E,{writable:!0,value:new C})}return Object(f.a)(e,[{key:"authExpiresAt",get:function(){return Object(O.a)(this,E)[E].expiresAt}},{key:"isLoggedIn",get:function(){return Date.now()<this.authExpiresAt}},{key:"login",value:function(){var e=Object(b.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/login",{email:t,password:n});case 2:if(!(r=e.sent).errorCode){e.next=5;break}throw new Error(r.errorCode);case 5:Object(O.a)(this,E)[E].set(r.authenticationInfo.authToken);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){Object(O.a)(this,L)[L].clear(),Object(O.a)(this,E)[E].clear()}},{key:"me",value:function(){var e=this;return Object(O.a)(this,P)[P]("me",(function(){return I("/me",Object(O.a)(e,A)[A])}))}},{key:"sessions",value:function(e){var t=this;return Object(O.a)(this,P)[P]("sessions/".concat(e),(function(){return k("/sessions",{enrollmentId:e},Object(O.a)(t,A)[A])}))}},{key:"sessionDetail",value:function(e){var t=this;return Object(O.a)(this,P)[P]("sessionDetail/".concat(e),(function(){return k("/sessionDetail",{sessionId:e},Object(O.a)(t,A)[A])}))}},{key:"assignments",value:function(e){var t=this;return Object(O.a)(this,P)[P]("assignments/".concat(e),(function(){return k("/assignments",{enrollmentId:e},Object(O.a)(t,A)[A])}))}},{key:"assignmentDetail",value:function(e){var t=this;return Object(O.a)(this,P)[P]("assignmentDetail/".concat(e),(function(){return k("/assignmentDetail",{assignmentId:e},Object(O.a)(t,A)[A])}))}}]),e}()),B=n(51),W=n.n(B);m.c().then((function(e){return e.filter((function(e){return/^bcs/.test(e)})).forEach((function(e){return m.a(e)}))}));var U=function(){return R.signOut()},q=function(){var e=Object(b.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,e.prev=1,e.next=4,R.login(n,r);case 4:return e.abrupt("return",{result:!0});case 7:return e.prev=7,e.t0=e.catch(1),U(),e.abrupt("return",{error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(b.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,R.isLoggedIn){e.next=3;break}throw new Error("You must be logged in to access cohorts.");case 3:return e.next=5,R.me();case 5:if(t=e.sent,n=t.Enrollments){e.next=9;break}throw new Error("You don't have any cohorts.");case 9:return r=n.map((function(e){var t=e.id,n=e.course;return{name:n.name,startDate:n.startDate,endDate:n.endDate,courseId:n.id,enrollmentId:t}})),e.abrupt("return",{result:r});case 13:return e.prev=13,e.t0=e.catch(0),401===e.t0.code&&(e.t0.message="You must login.",U()),e.abrupt("return",{error:e.t0});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(b.a)(u.a.mark((function e(t){var n,r,a,s,c,i,o,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.enrollmentId,e.prev=1,R.isLoggedIn){e.next=4;break}throw new Error("You must be logged in to access cohorts.");case 4:return e.next=6,Promise.all([R.sessions(n),R.assignments(n)]);case 6:return r=e.sent,a=Object(j.a)(r,2),s=a[0],c=a[1],i=new Map,o=s.calendarSessions.filter((function(e){return"academic"===e.context.contextCode})).map((function(e){return e.session.id})),e.next=14,Promise.all(o.map((function(e){return R.sessionDetail(e)})));case 14:return e.sent.forEach((function(e){e.students.forEach((function(t){var n,r=t.student.id,a=i.get(r);a||((a=W()(t.student,["id","email","firstName","lastName","active"])).attendance=[],a.totalAbsent=0,a.excusedAbsent=0,a.grades=[],i.set(r,a));var s={absent:!!t.absence,startTime:e.session.session.startTime,excused:(null===(n=t.absence)||void 0===n?void 0:n.excused)||!1};s.absent&&s.excused&&(a.excusedAbsent+=1),s.absent&&(a.totalAbsent+=1),a.attendance.push(s)}))})),l=c.calendarAssignments.filter((function(e){return e.required})).map((function(e){return e.id})),e.next=19,Promise.all(l.map((function(e){return R.assignmentDetail(e)})));case 19:return e.sent.forEach((function(e){var t=W()(e.assignment,["id","dueDate","effectiveDueDate","title"]);t.type=/project/i.test(t.title)?"project":"homework",e.students.forEach((function(e){var n,r=e.student.id,a=null===(n=e.grade)||void 0===n?void 0:n.grade,s={assignment:t,status:a?"graded":e.submission?"ungraded":"not_submitted",mark:a||""};i.get(r).grades.push(s)}))})),e.abrupt("return",{result:i});case 24:return e.prev=24,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 27:case"end":return e.stop()}}),e,null,[[1,24]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(b.a)(u.a.mark((function e(t){var n,r,a,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.enrollmentId,e.prev=1,R.isLoggedIn){e.next=4;break}throw new Error("You must be logged in to access assignments.");case 4:return e.next=6,R.assignments(n);case 6:return r=e.sent,e.next=9,Promise.all(r.calendarAssignments.filter((function(e){return e.required})).map((function(e){return R.assignmentDetail(e.id)})));case 9:return a=e.sent,s=function(e){var t=0,n=0,r=0,a={a:0,b:0,c:0,d:0,f:0};return e.forEach((function(e){var s=e.grade;e.submission?(s||(t+=1),"I"!==s.grade?a[function(e){return Object.keys(a).find((function(t){return new RegExp(t,"i").test(e.grade)}))}(s)]+=1:r+=1):n+=1})),{ungraded:t,unSubmitted:n,incomplete:r,grades:a}},c=a.map((function(e){var t=e.assignment,n=e.students;return Object(d.a)({id:t.id,dueDate:Date.parse(t.effectiveDueDate),title:t.title,expectedTotal:n.length},s(n))})),e.abrupt("return",{error:null,result:c});case 15:return e.prev=15,e.t0=e.catch(1),e.abrupt("return",{error:e.t0,result:null});case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),_=n(0),K=Object(r.createContext)({isLoggedIn:!1,pending:!1,signOut:function(){},login:function(e){e.email,e.password},cohorts:function(){}});function V(e){var t=e.children,n=Object(r.useState)((function(){return{error:"",pending:!1,isLoggedIn:R.isLoggedIn}})),a=Object(j.a)(n,2),s=a[0],c=a[1],i=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U(),c((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoggedIn:!1})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(e){return c((function(t){return Object(d.a)(Object(d.a)({},t),{},{pending:!1,isLoggedIn:!1,error:e})}))},l=function(){var e=Object(b.a)(u.a.mark((function e(t){var n,r,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,c((function(e){return Object(d.a)(Object(d.a)({},e),{},{pending:!0})})),e.next=4,q({email:n,password:r});case 4:if(a=e.sent,"INVALID_CREDENTIALS"!==(null===(s=a.error)||void 0===s?void 0:s.message)){e.next=8;break}return e.abrupt("return",o("Invalid username or password"));case 8:if(!s){e.next=10;break}return e.abrupt("return",o("An unexpected error occurred. Please try again."));case 10:c((function(e){return Object(d.a)(Object(d.a)({},e),{},{pending:!1,isLoggedIn:!0,error:""})}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsx)(K.Provider,{value:Object(d.a)(Object(d.a)({},s),{},{login:l,signOut:i}),children:t})}var z=function(){return Object(r.useContext)(K)},Q=function(e){var t=Object(r.useState)({pending:!1,result:null,error:null,isLoaded:!1}),n=Object(j.a)(t,2),a=n[0],s=n[1],c=function(){var t=Object(b.a)(u.a.mark((function t(){var n,r,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.isLoaded&&!a.pending){t.next=2;break}return t.abrupt("return");case 2:return s((function(e){return Object(d.a)(Object(d.a)({},e),{},{pending:!0})})),t.next=5,e();case 5:n=t.sent,r=n.result,c=n.error,s({result:r,error:c,pending:!1,isLoaded:!0});case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(d.a)(Object(d.a)({},a),{},{load:c})};var X=function(e){var t=e.children;return Object(_.jsxs)("div",{className:"d-flex h-100 w-100 justify-content-center align-items-center flex-column",children:[Object(_.jsx)("div",{style:{width:"3.5rem",height:"3.5rem"},className:"spinner-border text-secondary mb-4",role:"status"}),Object(_.jsx)("p",{className:"lead",children:t})]})},Z=function(e){return e.filter((function(e){return e}))},$=function(e){return Z(e).join(" ")},ee="Bootcamp Instructor Dashboard",te=function(e){var t=e.title,n=void 0===t?ee:t,a=e.description,s=void 0===a?"Bootcamp Instructor dashboard provides a suite of tools tailored to the needs of an instructor which are missing from the official Bootcamp Spot site.":a;Object(r.useEffect)((function(){document.title="".concat(n," | ").concat(ee)}),[n]),Object(r.useEffect)((function(){document.querySelector("meta[name=description]").setAttribute("content",s)}),[s])};function ne(e){var t=e.onClose,n=e.children;return Object(_.jsxs)("div",{className:"offcanvas-header",children:[Object(_.jsx)("h5",{className:"offcanvas-title",id:"offCanvasLabel",children:n}),Object(_.jsx)(ae,{onClose:t})]})}function re(e){var t=e.children;return Object(_.jsx)("div",{className:"offcanvas-body small",children:t})}function ae(e){var t=e.onClose;return Object(_.jsx)("button",{type:"button",className:"btn-close text-reset","aria-label":"Close",onClick:t})}var se=function(e){var t=e.show,n=e.style,r=e.title,a=e.onClose,s=e.children,c=$(["offcanvas","offcanvas-end",t&&"show"]);return Object(_.jsxs)("section",{"aria-live":"polite",className:c,tabIndex:-1,id:"offCanvas","aria-labelledby":"offCanvasLabel",style:Object(d.a)({visibility:t?"visible":"hidden"},n),children:[Object(_.jsx)(ne,{onClose:a,children:r}),Object(_.jsx)(re,{children:s})]})},ce=n(78),ie=n(79),oe=n(80),le=n.n(oe);function ue(e){var t=e.students,n=e.onSelectStudent,a=e.onHelp,s=Object(r.useState)({sortCol:"name",sortOrder:1}),c=Object(j.a)(s,2),i=c[0],o=i.sortCol,l=i.sortOrder,u=c[1],d=le()(t,o);-1===l&&d.reverse();return Object(_.jsxs)("table",{className:"table table-sm table-hover mt-5 caption-top mx-auto",style:{maxWidth:"45rem"},children:[Object(_.jsxs)("caption",{children:["Click on a student to view additional details."," ",Object(_.jsx)("button",{style:{verticalAlign:"inherit",padding:0,cursor:"help"},className:"btn btn-link",onClick:a,children:"help"})]}),Object(_.jsx)(be,{sortCol:o,sortOrder:l,onToggleSort:function(e){u((function(t){return{sortCol:e,sortOrder:t.sortCol===e?-1*t.sortOrder:1}}))}}),Object(_.jsx)("tbody",{children:d.map((function(e){return Object(_.jsx)(fe,{student:e,onSelectStudent:n},e.id)}))})]})}var de=[{label:"Name",fieldName:"name"},{label:"Absent",fieldName:"totalAbsent"},{label:"Incomplete",fieldName:"totalIncomplete"},{label:"Not Submitted",fieldName:"totalNotSubmitted"},{label:"Missed HW",fieldName:"totalMissedHW"},{label:"Ungraded",fieldName:"totalUngraded"},{label:"Status",fieldName:"status",screenReaderOnly:!0}];function be(e){var t=e.sortCol,n=e.sortOrder,r=e.onToggleSort;return Object(_.jsx)("thead",{children:Object(_.jsx)("tr",{children:de.map((function(e){return e.screenReaderOnly?Object(_.jsx)(me,Object(d.a)({},e),e.fieldName):Object(_.jsx)(je,Object(d.a)({sortCol:t,sortOrder:n,onToggleSort:r},e),e.fieldName)}))})})}function je(e){var t=e.sortOrder,n=e.sortCol,r=e.label,a=e.fieldName,s=e.onToggleSort,c=n!==a?null:1===t?"ascending":"descending";return Object(_.jsx)("th",{scope:"col","aria-sort":c,children:Object(_.jsxs)("span",{tabIndex:0,role:"button",onClick:function(){return s(a)},onKeyUp:function(e){return"Enter"===e.key&&s(a)},style:{cursor:"pointer"},children:[r," ",Object(_.jsx)(he,{sortOrder:t,show:n===a})]})})}function me(e){var t=e.label;return Object(_.jsx)("th",{scope:"col",className:"visually-hidden",children:t})}function he(e){var t=e.sortOrder,n={visibility:e.show?"visible":"hidden"},r=1===t?ie.a:ce.a;return Object(_.jsx)(r,{"aria-label":"toggle sort",style:n})}function fe(e){var t=e.student,n=e.onSelectStudent,r=t.id,a=t.name,s=t.totalAbsent,c=t.totalIncomplete,i=t.totalNotSubmitted,o=t.totalUngraded,l=t.totalMissedHW,u=t.status,d="ok"===u?"":"incomplete"===u?"table-danger":"table-warning";return Object(_.jsxs)("tr",{role:"button",className:d,onClick:function(){return n(r)},onKeyUp:function(e){return"Enter"===e.key&&n(r)},tabIndex:0,children:[Object(_.jsx)("td",{children:a}),Object(_.jsx)("td",{children:s}),Object(_.jsx)("td",{children:c}),Object(_.jsx)("td",{children:i}),Object(_.jsx)("td",{children:l}),Object(_.jsx)("td",{children:o}),Object(_.jsx)("td",{className:"visually-hidden",children:u})]})}var Oe=function(e){var t=e.students,n=e.onSelectStudent,r=e.onHelp;return Object(_.jsx)(ue,{students:t,onSelectStudent:n,onHelp:r})};function pe(){return Object(_.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(_.jsx)("li",{className:"list-group-item",children:"Students failing to meet completion requirements are highlighted in pink."}),Object(_.jsx)("li",{className:"list-group-item",children:"Students at risk of failing to meet completion requirements are highlighted in yellow."})]})}function xe(e){var t=e.student;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ge,{attendance:t.attendance}),Object(_.jsx)(we,{grades:t.grades})]})}var ve=new Intl.DateTimeFormat({dateStyle:"short"});function ge(e){var t=e.attendance.filter((function(e){return e.absent}));return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h6",{children:"Absences"}),Object(_.jsxs)("ul",{className:"list-group list-group-flush",children:[0===t.length&&Object(_.jsx)("p",{children:"None"}),t.map((function(e){return Object(_.jsxs)("li",{className:"list-group-item",children:[ve.format(new Date(e.startTime))," ",e.excused&&"excused"]},e.startTime)}))]})]})}function we(e){var t=e.grades,n=Z(t.filter((function(e){return("graded"!==e.status||"I"===e.mark)&&Date.parse(e.assignment.effectiveDueDate)<Date.now()})).map((function(e){return Object(_.jsx)(ye,{grade:e},e.assignment.title)})));return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h6",{className:"mt-3",children:"Homework Issues"}),0===n.length?Object(_.jsx)("p",{children:"None"}):Object(_.jsx)("ul",{className:"list-group list-group-flush",children:n})]})}function ye(e){var t=e.grade,n=t.mark,r=t.status,a=t.assignment.title,s="not submitted",c="danger";"I"===n?s="incomplete":"ungraded"===r&&(s="ungraded",c="warning");var i=$(["badge","bg-".concat(c),"warning"===c&&"text-dark"]);return Object(_.jsxs)("li",{className:"list-group-item d-flex align-items-center",children:[Object(_.jsx)("div",{style:{minWidth:90},children:Object(_.jsx)("span",{className:i,children:s})}),Object(_.jsx)("div",{className:"ps-2",children:a})]})}var Ne=function(e){var t,n=e.cohort,a=Object(r.useState)({show:!1,title:"",children:null}),s=Object(j.a)(a,2),c=s[0],i=s[1];te({title:(t=n.name,t?"Overview: ".concat(t):"Overview")});var o,l=(o=n.enrollmentId,Q((function(){return G({enrollmentId:o})})));return Object(r.useEffect)((function(){l.load()}),[l]),l.error?Object(_.jsx)("p",{children:l.error}):l.pending||!l.isLoaded?Object(_.jsx)(X,{children:"Loading student data..."}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Oe,{onHelp:function(){i({show:!0,title:"Dashboard Help",children:Object(_.jsx)(pe,{})})},onSelectStudent:function(e){var t=l.result.get(e);i({show:!0,title:"".concat(t.firstName," ").concat(t.lastName),children:Object(_.jsx)(xe,{student:t})})},students:Array.from(l.result.values()).map((function(e){var t=e.firstName,n=e.lastName,r=e.totalAbsent,a=e.id,s="".concat(t," ").concat(n),c=function(e){var t=0,n=0,r=0;return e.filter((function(e){return Date.parse(e.assignment.effectiveDueDate)<Date.now()})).forEach((function(e){"graded"===e.status&&"I"!==e.mark||("I"!==e.mark?"not_submitted"!==e.status?r+=1:n+=1:t+=1)})),{totalIncomplete:t,totalNotSubmitted:n,totalUngraded:r,totalMissedHW:t+n}}(e.grades),i=c.totalIncomplete,o=c.totalNotSubmitted,l=c.totalUngraded,u=c.totalMissedHW;return{id:a,name:s,totalAbsent:r,totalIncomplete:i,totalNotSubmitted:o,totalUngraded:l,totalMissedHW:u,status:r>5||u>2?"incomplete":r>4||u>1?"warning":"ok"}}))}),Object(_.jsx)(se,Object(d.a)({onClose:function(){return i((function(e){return Object(d.a)(Object(d.a)({},e),{},{show:!1})}))}},c))]})};var ke=function(e){var t=e.cohorts;return te({title:"Select a cohort"}),0===t.length?Object(_.jsx)("p",{children:"You don't have any cohorts."}):1===t.length?Object(_.jsx)(o.a,{to:"/".concat(t[0].enrollmentId)}):Object(_.jsxs)("main",{className:"h-100 w-100 d-flex flex-column align-items-center justify-content-center",children:[Object(_.jsx)("h1",{className:"h3 mb-5",children:"Select a course:"}),Object(_.jsx)("div",{className:"card",children:Object(_.jsx)("ul",{className:"list-group list-group-flush",children:t.map((function(e){var t=e.name,n=e.enrollmentId;return Object(_.jsx)(i.b,{to:"/".concat(n),className:"list-group-item list-group-item-action",children:t},n)}))})})]})};var Ie=function(e){var t=e.currentCohort;return Object(_.jsxs)("div",{className:"d-flex flex-column flex-shrink-0 p-3 text-dark bg-light shadow",style:{width:"13rem"},children:[Object(_.jsx)("div",{children:(null===t||void 0===t?void 0:t.name)||"Select Cohort"}),Object(_.jsx)("hr",{}),t&&Object(_.jsxs)("ul",{className:"nav nav-pills flex-column mb-auto",children:[Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsx)(i.c,{className:"nav-link link-dark",exact:!0,to:"/".concat(t.enrollmentId),children:"Overview"})}),Object(_.jsx)("li",{children:Object(_.jsx)(i.c,{className:"nav-link link-dark",to:"/".concat(t.enrollmentId,"/assignments"),children:"Assignments"})})]})]})},Se=n(18),Ce=new Intl.DateTimeFormat("default",{month:"short",day:"numeric"});function De(e){var t=e.date,n=e.title,r=function(e){return Ce.formatToParts(e).reduce((function(e,t){var n=t.type,r=t.value;return Object(d.a)(Object(d.a)({},e),{},Object(Se.a)({},n,r))}),{})}(t),a=r.month,s=r.day;return Object(_.jsxs)("div",{className:"d-flex flex-column text-center border",title:n,style:{width:"3.4rem"},children:[Object(_.jsx)("div",{className:"bg-primary text-white fs-6",children:a}),Object(_.jsx)("div",{className:"py-1 fs-4 fw-bold bg-light",children:s})]})}De.defaultProps={date:Date.now()};var Te=De,Le={a:"#198754",b:"#198754",c:"#ffc107",d:"#dc3545",f:"#dc3545",incomplete:"#495057"},Ee=function(e){var t=e.grades,n=e.total,r=t.a,a=["".concat(Le.a," ").concat(r/n*360,"deg")];return["b","c","d","f"].forEach((function(e){r+=t[e],a.push("".concat(Le[e]," 0 ").concat(r/n*360,"deg"))})),a.push("".concat(Le.incomplete," 0")),a};var Ae=function(e){var t=e.grades,n=e.total;return Object(_.jsx)("div",{className:"shadow border border-2",style:{display:"inline-block",width:"5em",height:"5em",borderRadius:"50%",backgroundImage:"conic-gradient(".concat(Ee({grades:t,total:n}).join(","),")")},children:Object(_.jsxs)("table",{className:"visually-hidden",children:[Object(_.jsx)("caption",{children:"Distribution of letter grades"}),Object(_.jsx)("thead",{children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("th",{children:"Grade"}),Object(_.jsx)("th",{children:"Percent"})]})}),Object(_.jsxs)("tbody",{children:[Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"A/B"}),Object(_.jsxs)("td",{children:[Math.floor((t.a+t.b)/n*100)," %"]})]}),Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"C"}),Object(_.jsxs)("td",{children:[Math.floor(t.c/n*100)," %"]})]}),Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"D/F"}),Object(_.jsxs)("td",{children:[Math.floor((t.d+t.f)/n*100)," %"]})]}),Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"Incomplete"}),Object(_.jsxs)("td",{children:[Math.floor((n-Object.values(t).reduce((function(e,t){return e+t})))/n*100)," ","%"]})]})]})]})})};function Pe(e){var t=e.value,n=e.min,r=e.max,a=t/(r-n),s="".concat(Math.floor(100*a),"%"),c=a<.7?"danger":a<.9?"warning":a<1?"info":"success";return Object(_.jsx)("div",{className:"progress",style:{height:"0.25em"},children:Object(_.jsx)("div",{className:$(["progress-bar",c&&"bg-".concat(c)]),role:"progressbar",style:{width:s},"aria-valuenow":t,"aria-valuemin":n,"aria-valuemax":r})})}Pe.defaultProps={min:0,max:100};var He=Pe;var Me=function(e){var t,n,a=e.cohort;te({title:(n=a.name,n?"Assignments: ".concat(n):"Assignments")});var s,c=(s=a.enrollmentId,Q((function(){return J({enrollmentId:s})})));return Object(r.useEffect)((function(){return c.load()}),[c]),c.isLoaded?c.error?Object(_.jsx)("div",{className:"d-flex h-100 justify-content-center align-items-center",children:Object(_.jsx)("p",{className:"text-center lead",children:"Unable to load assignments"})}):Object(_.jsx)("div",{className:"mx-auto d-flex flex-column pt-3",style:{maxWidth:"40rem"},children:null===(t=c.result)||void 0===t?void 0:t.map((function(e){return Object(_.jsxs)("div",{className:"row my-3 shadow border-1 p-2",children:[Object(_.jsx)("div",{className:"col-auto  pt-1",children:Object(_.jsx)(Te,{date:e.dueDate,title:"Assignment due date"})}),Object(_.jsxs)("div",{className:"col",children:[Object(_.jsx)("h5",{children:e.title}),Object(_.jsxs)("div",{className:"row",children:[Object(_.jsxs)("div",{className:"col",children:[Object(_.jsxs)("div",{className:"mb-1",children:[Object(_.jsxs)("p",{className:"mb-0",children:["Submissions (",e.expectedTotal-e.unSubmitted,"/",e.expectedTotal,")"]}),Object(_.jsx)(He,{value:e.expectedTotal-e.unSubmitted,max:e.expectedTotal})]}),Object(_.jsxs)("div",{className:"mb-1",children:[Object(_.jsxs)("p",{className:"mb-0",children:["Grading (",e.expectedTotal-e.unSubmitted-e.ungraded,"/",e.expectedTotal-e.unSubmitted,")"]}),Object(_.jsx)(He,{value:e.expectedTotal-e.unSubmitted-e.ungraded,max:e.expectedTotal-e.unSubmitted})]}),Object(_.jsxs)("div",{className:"mb-1",children:[Object(_.jsxs)("p",{className:"mb-0",children:["Completion: ",e.expectedTotal-e.incomplete-e.unSubmitted,"/",e.expectedTotal]}),Object(_.jsx)(He,{value:e.expectedTotal-e.incomplete-e.unSubmitted,max:e.expectedTotal})]})]}),Object(_.jsx)("div",{className:"col-md-4 d-none d-sm-flex justify-content-center",children:Object(_.jsx)(Ae,{grades:e.grades,incomplete:e.incomplete,total:e.expectedTotal-e.unSubmitted-e.ungraded})})]})]})]},e.id)}))}):Object(_.jsx)(X,{children:"Loading assignments..."})};var Fe=function(){var e,t,n=Object(o.i)("/:enrollmentId?"),a=parseInt(n.params.enrollmentId),s=Q(Y);Object(r.useEffect)((function(){s.load()}),[s]);var c=(null===(e=s.result)||void 0===e?void 0:e.find((function(e){return e.enrollmentId===a})))||null;return Object(_.jsxs)("div",{className:"h-100 w-100 d-flex",children:[Object(_.jsx)(Ie,{cohorts:s.result,currentCohort:c}),Object(_.jsx)("div",{className:"container-fluid",children:s.isLoaded?s.error?Object(_.jsxs)("p",{children:["Error loading cohorts. ",s.error.message]}):Object(_.jsxs)(o.d,{children:[Object(_.jsx)(o.b,{path:"/:enrollmentId/assignments",children:Object(_.jsx)(Me,{cohort:c})}),Object(_.jsx)(o.b,{path:"/:enrollmentId",children:Object(_.jsx)(Ne,{cohort:c})}),Object(_.jsx)(o.b,{path:"/",children:Object(_.jsx)(ke,{cohorts:s.result,pending:s.pending,error:(null===(t=s.error)||void 0===t?void 0:t.message)||"",isLoaded:s.isLoaded})})]}):Object(_.jsx)(X,{children:"Loading cohorts..."})})]})},Re=n(20),Be=function(e){return m.d("login:email",e)};function We(){return Object(_.jsx)("h1",{className:"h3 mb-3 fw-normal",children:"Please sign in with your BCS Credentials"})}function Ue(e){var t=e.label,n=e.controlId,r=Object(Re.a)(e,["label","controlId"]);return Object(_.jsxs)("div",{className:"form-floating",children:[Object(_.jsx)("input",Object(d.a)({name:n,id:n,className:"form-control"},r)),Object(_.jsx)("label",{htmlFor:n,children:t})]})}function qe(e){var t=e.controlId,n=Object(Re.a)(e,["controlId"]);return Object(_.jsx)("div",{className:"my-3 text-center",children:Object(_.jsxs)("label",{children:[Object(_.jsx)("input",Object(d.a)({name:t,type:"checkbox"},n))," Remember me"]})})}function Ye(e){var t=e.children,n=e.show;return Object(_.jsx)("div",{className:"mt-3",style:{maxHeight:n?100:0,transition:"max-height ease 400ms",overflow:"hidden",height:"auto"},children:Object(_.jsx)("div",{className:"alert alert-danger",role:"alert",children:t})})}function Ge(e){var t=e.pending,n=Object(Re.a)(e,["pending"]);return Object(_.jsx)("button",Object(d.a)(Object(d.a)({type:"submit",className:"w-100 btn btn-lg btn-primary"},n),{},{children:t?Object(_.jsx)(Je,{children:"Logging in..."}):"Submit"}))}function Je(e){var t=e.children;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("span",{className:"spinner-border spinner-border-sm me-3",role:"status","aria-hidden":"true"}),t]})}var _e=function(){var e=Object(o.g)(),t=Object(o.h)(),n=z(),a=n.login,s=n.isLoggedIn,c=n.pending,i=n.error,l=Object(r.useState)({email:"",password:"",remember:!1,dirty:!1}),h=Object(j.a)(l,2),f=h[0],O=h[1];te({title:"Login | Bootcamp Instructor Dashboard"}),Object(r.useEffect)((function(){if(s){var n,r,a={pathname:(null===(n=t.state)||void 0===n||null===(r=n.from)||void 0===r?void 0:r.pathname)||"/"};e.replace(a)}}),[s,e,t]),Object(r.useEffect)((function(){m.b("login:email").then((function(e){return O((function(t){return Object(d.a)(Object(d.a)({},t),{},{remember:!!e,email:e||""})}))}))}),[]);var p=function(e){var t=e.target,n=t.name,r=t.value,a=t.type,s=t.checked;O((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(Se.a)({dirty:!0},n,"checkbox"===a?s:r))}))},x=function(){var e=Object(b.a)(u.a.mark((function e(t){var n,r,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=f.email,r=f.password,s=f.remember,c={email:n.trim(),password:r.trim()},O((function(e){return Object(d.a)(Object(d.a)({},e),{},{dirty:!1})})),!s){e.next=9;break}return e.next=7,Be(c.email);case 7:e.next=11;break;case 9:return e.next=11,m.a("login:email");case 11:a(c);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsx)("main",{style:{maxWidth:330},className:"w-100 py-5 mx-auto h-100 d-flex align-items-center",children:Object(_.jsxs)("form",{onSubmit:x,children:[Object(_.jsx)(We,{}),Object(_.jsx)(Ue,{label:"Email address",type:"email",controlId:"email",style:{marginBottom:-1,borderBottomRightRadius:0,borderBottomLeftRadius:0},value:f.email,onChange:p,disabled:c}),Object(_.jsx)(Ue,{label:"Password",type:"password",controlId:"password",style:{borderTopRightRadius:0,borderTopLeftRadius:0},value:f.password,onChange:p,disabled:c}),Object(_.jsx)(qe,{controlId:"remember",checked:f.remember,onChange:p,disabled:c}),Object(_.jsx)(Ge,{disabled:!function(){var e=f.email,t=f.password,n=f.dirty;return e.trim()&&t.trim()&&n}()||c,pending:c}),Object(_.jsx)(Ye,{show:i&&!f.dirty,children:i})]})})};var Ke=function(e){var t=e.children,n=Object(Re.a)(e,["children"]),r=z().isLoggedIn;return Object(_.jsx)(o.b,Object(d.a)(Object(d.a)({},n),{},{render:function(e){var n=e.location;return r?t:Object(_.jsx)(o.a,{to:{pathname:"/login",state:{from:n}}})}}))};var Ve=function(){var e=z(),t=e.isLoggedIn,n=e.signOut;return Object(_.jsxs)("header",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(_.jsx)(i.b,{className:"navbar-brand px-3",to:"/",children:"Instructor Dashboard"}),Object(_.jsx)("div",{className:"navbar-nav px-3 ms-auto",children:Object(_.jsx)("div",{className:"nav-item",children:t&&Object(_.jsx)("button",{className:"nav-link bg-dark btn",onClick:n,children:"Sign out"})})})]})};var ze=function(){return Object(_.jsx)(V,{children:Object(_.jsxs)(i.a,{basename:"/instructor-dashboard",children:[Object(_.jsx)(Ve,{}),Object(_.jsxs)(o.d,{children:[Object(_.jsx)(o.b,{path:"/login",children:Object(_.jsx)(_e,{})}),Object(_.jsx)(Ke,{path:"/",children:Object(_.jsx)(Fe,{})})]})]})})},Qe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,196)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};c.a.render(Object(_.jsx)(a.a.StrictMode,{children:Object(_.jsx)(ze,{})}),document.getElementById("root")),Qe()},89:function(e,t,n){}},[[195,1,2]]]);
//# sourceMappingURL=main.901df53e.chunk.js.map